<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src='grid.js'></script>
  </head>
  
  <body>
    <div id='title' class='header'>Image Gallery</div>
    <div id='container' class='grid-layout'></div>
    <div id='tools' class='footer'>Footer
    </div>
  </body>

  <script>
    
    window.addEventListener('load', () => {

      let container = document.getElementById('container');
      
      const imageCount = 8;
      const fileName = ['air', 'desks', 'hive', 'logo', 'lounge', 'lounge2', 'mountainview', 'racecar'
      ];
      for (let imageNum = 0; imageNum < imageCount; imageNum++) {
        container.appendChild(createImageElement('sourceImages/'+fileName[imageNum]+'.jpg', 'grid-image'));
      }
    });
    
    document.addEventListener('click', e => {
      if (container.className === 'grid-layout') {
        let imageElements = document.getElementById('container').childNodes;
        document.getElementById('title').style.visibility = 'hidden';
        container.className = 'detail-layout';
      
        imageElements.forEach(image => {
          if (image == e.target) {
            image.style.objectFit = 'contain';
          }
          else {
            image.style.display = 'none';
          }
        });
      }
    });

    document.addEventListener('mouseover', e => {
      if (container.className === 'detail-layout') {
        document.getElementById('title').style.visibility = 'visible';
        document.getElementById('footer').style.visibility = 'visible';
      }
    });

    document.addEventListener('touchstart', e => {
      if (container.className === 'detail-layout') {
        document.getElementById('title').style.visibility = 'visible';
        document.getElementById('tools').style.visibility = 'visible';
      }
    });
    
    // TODO: use get and set
    
    function createImageElement(src, class_name) {
      let image = document.createElement('img');
      image.src = src;
      image.className = class_name;
      return image;
    }
  </script>
</html>
