import{R as a,M as l,d as i,E as p}from"../bbkitAssets/sortview.web-bc5e2455.js";import{p as v}from"../bbkitAssets/sys-ui-8067ee52.js";import{h as M,d as z,i as W,E as N,g as u,I as A}from"../bbkitAssets/privateui-7dfe9fcd.js";import U from"../rui/index.js";import"../bbkitAssets/rplus-renderer-fec953cb.js";new a.Logger(l);const F={extends:{public:{super:v.Tab}},init:B,public:{numChildren:{get:L},addChild:G,insertChild:Z,updateChild:K,removeChild:j,removeAllChildren:q,getChild:Q},private:{_getContent:X},moduleId:l};function B(){this.initSuper();const t=new v.OverflowStackPanel;this.content=t,t.grouped=!0}function L(){return this._getContent().numChildren}function G(t,e){this._getContent().addChild(t,e)}function Z(t,e){this._getContent().insertChild(t,e)}function K(t,e){this._getContent().updateChild(t,e)}function j(t){this._getContent().removeChild(t)}function q(){this._getContent().removeAllChildren()}function Q(t){return this._getContent().getChild(t)}function X(){const t=this.content;return i.assert.isNotNull(t,"this.content is null."),t}const J=i.class.create(F),$=J;new a.Logger(l);const Y=M.define(v.TabPanel,{init:function(){this.elem.classList.add("controlregion"),z.getDomElement(this._tabContent).classList.add("tabstripcontent-controlregion"),this.addStyles("sys-controlregion"),this.tabsVisible=!1,this.toggleCollapse=!0,this.sizingMode="content",this._tabStrip.expanderVisible=!0,this.programmaticTabChangedEvent=!0},public:{get widgetType(){return"ControlRegion"},addChild:function(t){i.class.isInstanceOf($,t)||z.deprecate(this.self,"Adding a child other than sys-blp-ui.ControlRegionTab to sys-blp-ui.ControlRegion",2016,8,1,"Please only add sys-blp-ui.ControlRegionTab."),this.insertChild(t,this.numChildren)}},protected:{_tabsUpdated:function(){this.tabsVisible=this.numChildren>1}}},W),w=Y;var S={};new a.Logger(l);const tt={virtual:{private:{getImpl:null}},events:{resize:{},back:{},feedbackClicked:{},helpClicked:{},settingsClicked:{},exportClicked:{},customOptionsClicked:{},privilegedOptionsClicked:{},controlRegionVisibilityChanged:{},quotelineVisibilityChanged:{},titleVisibilityChanged:{},titleChanged:{},demoModeChanged:{}},friendKey:S,moduleId:l},et=i.class.create(tt),it=et;var nt={},O={},R={};const d={},k=new a.Logger(l);function st(t){const e={restored:!1,converted:!1,groupId:-1,groupName:"",value:""},n=i.class.castTo(p.ManagedApplicationContext,t.appContext),o=(n.systemInputs.hotspots||[]).filter(h=>h.hotspotType===t.hotspotName),r=p.determineRestoreHotspot({logPrefix:t.logPrefix,hotspotData:{appContext:n,observerName:t.observerName}});if(r.restored)e.restored=!0,e.groupId=r.newGroupId,e.groupName=r.newGroupName,e.value=r.newValue,k.info(t.logPrefix,"Found restore match."," Number of systemInput matches:",o.length," restoreData:",JSON.stringify(e));else if(o.length>0){const h=o[0];if(e.converted=!0,h.groupName){const V=parseInt(h.groupName.split("___")[0],10);isNaN(V)||(e.groupId=V)}e.groupName=h.displayName||"",e.value=h.value||"",k.info(t.logPrefix,"Found systemInput match."," Number of systemInput matches:",o.length," restoreData:",JSON.stringify(e))}return e}var ot={determineConvertOrRestoreHotspot:st};const c=new a.Logger(l),rt={events:{groupInfoChanged:{},valueChanging:{},valueChanged:{},autocompleteChanged:{},collectionChanged:{},editableChanged:{},entryVisibleChanged:{},flashGroup:{},historyItemsChanged:{},hotspotValueChangeRejected:{},tooltipChanged:{},visibleChanged:{}}};class P extends N.define(rt){d_appContext;d_autocompleteContext;d_collection;d_isConverted;d_displayValue;d_editable;d_enableAutocomplete;d_entryVisible;d_groupDescription;d_groupId;d_groupName;d_groupable;d_index;d_initialized;d_hotspotType;d_historyItems;d_hotspotName;d_maxHistoryItems;d_observerName;d_title;d_tooltip;d_value;d_visible;d_updateSameValueForOutputOnlyHotspots;constructor(e){super(),this.d_groupDescription="",this.d_groupId=-1,this.d_groupName="",this.d_appContext=void 0,this.d_autocompleteContext="",this.d_collection=void 0,this.d_isConverted=!1,this.d_displayValue=e.value||"",this.d_editable=!0,this.d_enableAutocomplete=!1,this.d_entryVisible=!0,this.d_historyItems=[],this.d_groupable=!1,this.d_hotspotName="",this.d_hotspotType="",this.d_initialized=!1,this.d_maxHistoryItems=5,this.d_observerName="",this.d_title="",this.d_tooltip="",this.d_value=e.value||"",this.d_visible=!0,this.d_updateSameValueForOutputOnlyHotspots=!1,e.groupable!==void 0&&(this.groupable=e.groupable),this.setValue({value:e.value||"",displayValue:e.value||""}),e.hotspotType&&(this.hotspotType=e.hotspotType),e.hotspotName&&(this.hotspotName=e.hotspotName),e.observerName&&(this.observerName=e.observerName),e.appContext&&(this.appContext=e.appContext),this.__convertOrRestoreHotspot()}get appContext(){return this.d_appContext}set appContext(e){i.assert.assert(!this.d_appContext,"Cannot change the appContext, it already has been set"),i.assert.assert(e),this.d_appContext=e,c.info(this.logPrefix,"appContext set with value:",this.d_value),this.__initializeIfReady()}get autocompleteContext(){return this.d_autocompleteContext}set autocompleteContext(e){this.d_autocompleteContext!==e&&(i.assert.isString(e),this.d_autocompleteContext=e,this.d_editable===!0&&this.fireEvent("autocompleteChanged",{}))}get collection(){return this.d_collection}get displayValue(){return this.d_displayValue}get editable(){return this.d_editable}set editable(e){this.d_editable!==e&&(i.assert.isBoolean(e),this.d_editable=e,this.fireEvent("editableChanged",{}))}get enableAutocomplete(){return this.d_enableAutocomplete}set enableAutocomplete(e){this.d_enableAutocomplete!==e&&this.d_editable===!0&&(i.assert.isBoolean(e),this.d_enableAutocomplete=e,this.fireEvent("autocompleteChanged",{}))}get entryVisible(){return this.d_entryVisible}set entryVisible(e){this.d_entryVisible!==e&&(i.assert.isBoolean(e),this.d_entryVisible=e,this.fireEvent("entryVisibleChanged",{}))}get groupable(){return this.d_groupable}set groupable(e){i.assert.isFalse(this.d_initialized,"Cannot set groupable after initialization"),i.assert.isBoolean(e,"Groupable must be a Boolean"),this.d_groupable=e,this.__initializeIfReady()}get grouped(){return Number.isInteger(this.d_groupId)&&this.d_groupId>0}get hotspotType(){return this.d_hotspotType}set hotspotType(e){this.d_hotspotType!==e&&(i.assert.assert(!this.d_hotspotType,"Cannot change the hotspotType, it already has been set"),i.assert.isString(e),this.d_hotspotType=e)}get historyItems(){return this.d_historyItems}set historyItems(e){i.assert.isType("array",e),this.d_historyItems=e,this.d_maxHistoryItems>=0&&this.d_historyItems.splice(this.d_maxHistoryItems),this.fireEvent("historyItemsChanged",{})}get hotspotName(){return this.d_hotspotName}set hotspotName(e){i.assert.isString(e,"hotspotName must be a string"),this.d_hotspotName=e}get maxHistoryItems(){return this.d_maxHistoryItems}set maxHistoryItems(e){i.assert.isNumber(e,"maxHistoryItems must be a number"),this.d_maxHistoryItems=e,this.historyItems=this.d_historyItems}get observerName(){return this.d_observerName}set observerName(e){i.assert.isFalse(this.d_initialized,"Cannot set observerName after initialization"),i.assert.isString(e,"observerName must be a string"),i.assert.assert(String(e).length>0,"observerName must have length > 0"),this.d_observerName=e,this.__initializeIfReady()}get title(){return this.d_title}set title(e){i.assert.assert(!this.d_title,"Cannot change the title, it has already been set"),i.assert.isString(e),this.d_title=e}get tooltip(){return this.d_tooltip}set tooltip(e){this.d_tooltip=e,this.fireEvent("tooltipChanged",{})}get value(){return this.d_value}applyCurrentValue(){this.fireEvent("valueChanged",{})}get logPrefix(){if(!this.d_appContext)return"";const e=i.class.castTo(p.ManagedApplicationContext,this.d_appContext),n=i.field(e,"systemInputs","lpGuid")||"",s=i.field(e,"systemInputs","compType")||0;return`[dbid:${i.field(e,"systemInputs","dbid")||0} type:${s} guid:${n}] observerName:${this.d_observerName} groupId:${this.d_groupId} groupName:${this.d_groupName} `}setValue(e){return this.setValueSync({displayValue:e.displayValue,privs:{friendKey:d},value:e.value})}setValueSync(e){this.__ensurePrivs(e.privs);let n=!1;const s=e.value||"",o=e.displayValue||e.value||"";if(s!==this.d_value?(n=!0,this.d_value=s,this.d_displayValue=o,c.info(this.logPrefix,"Updating value:",this.d_value," displayValue:",this.d_displayValue)):o!==this.d_displayValue&&(n=!0,this.d_displayValue=o,o.length>0&&c.info(this.logPrefix,"Updating displayValue:",this.d_displayValue)),n){const r=this.d_historyItems;r.unshift({string:this.d_displayValue,key:this.d_displayValue}),this.historyItems=r,this.__setOutputs(),this.fireEvent("valueChanged",{})}else if(this.d_appContext&&this.d_updateSameValueForOutputOnlyHotspots&&this.d_groupId!==-1){const r=this.d_appContext.outputs[String(this.d_observerName)];if(r&&s.length>0)return p.updateGroupValue(this.d_groupId,r.dataType,this.d_value).catch(h=>{c.error(this.logPrefix,"Failed to updateGroupValue: ",h)}).then(()=>({aborted:!1}))}return Promise.resolve({aborted:!1})}get visible(){return this.d_visible}set visible(e){let n,s;if(this.d_visible!==e){if(e&&i.field(this.collection,"exclusive")&&i.field(this.collection,"activeHotspot","observerName")!==this.observerName)throw n=i.field(this.collection,"activeHotspot","observerName"),s="Cannot make the non active hotspot in an exclusive collection visible  observerName:"+this.observerName+" currently active:"+n,c.error(this.logPrefix,s),new Error(s);if(!e&&i.field(this.collection,"exclusive")&&i.field(this.collection,"activeHotspot","observerName")===this.observerName)throw n=i.field(this.collection,"activeHotspot","observerName"),s="Cannot make the active hotspot in an exclusive collection not visible  observerName:"+this.observerName,c.error(this.logPrefix,s),new Error(s);this.d_visible=e,this.fireEvent("visibleChanged",{})}}getIsConverted(e){return this.__ensurePrivs(e),this.d_isConverted}setIsConverted(e,n){this.__ensurePrivs(n),this.d_isConverted=e}getGroupDescription(e){return this.__ensurePrivs(e),this.d_groupDescription}setGroupDescription(e,n){this.__ensurePrivs(n),this.d_groupDescription=e}getGroupId(e){return this.__ensurePrivs(e),this.d_groupId}setGroupId(e,n){this.__ensurePrivs(n),this.d_groupId=e}getGroupName(e){return this.__ensurePrivs(e),this.d_groupName}setGroupName(e,n){this.__ensurePrivs(n),this.d_groupName=e}getIndex(e){return this.__ensurePrivs(e),this.d_index}setIndex(e,n){this.__ensurePrivs(n),this.d_index=e}askToChangeValue(e,n){if(e===this.d_value)return{eventRejected:!1};let s=!1;const o=this.d_value,r=()=>{s=!0,this.fireEvent("hotspotValueChangeRejected",{currentValue:o,rejectedValue:e})};return this.fireEvent("valueChanging",{value:e,reject:r})===!0||s?(this.setValue({value:o}),{eventRejected:!0}):(this.setValue({value:e}),{eventRejected:!1})}setCollection(e,n){this.__ensurePrivs(n),this.d_collection!==e&&(i.assert.assert(!this.d_collection,"This hotspot still belongs to another collection old id:"+i.field(this.d_collection,"id")+" new id:"+i.field(e,"id")),this.d_collection=e,this.fireEvent("collectionChanged",{}))}validateGroup(e){this.__ensurePrivs(e),p.validateGroup(this.d_appContext,this.d_observerName,this.d_groupId,this.d_groupName).then(()=>{p.subscribe(this.d_appContext,this.d_observerName,this.__grouperUpdated.bind(this)),this.d_initialized=!0}).catch(n=>{c.error(this.logPrefix,"Failed to validateGroup: ",n)})}__convertOrRestoreHotspot(){if(this.observerName.length===0||!this.appContext||this.d_isConverted)return;const e=i.class.castTo(p.ManagedApplicationContext,this.appContext);if(!i.field(e,"systemInputs","runningOutsideWidgetServer"))return;const s=ot.determineConvertOrRestoreHotspot({appContext:this.appContext,hotspotName:this.hotspotName,logPrefix:this.logPrefix,observerName:this.observerName});if(s.restored||s.converted){if(c.info(this.logPrefix,"Synchronously restoring hotspot:",s),this.setIsConverted(!0,{friendKey:d}),this.setGroupId(s.groupId,{friendKey:d}),this.setGroupName(s.groupName,{friendKey:d}),this.setValueSync({value:s.value,privs:{friendKey:d}}),!!e.inputs[this.observerName]){const r={};r[this.observerName]=s.value,e.setInputValues(r)}this.__initializeIfReady(),this.validateGroup({friendKey:d})}}__ensurePrivs(e){i.assert.equal(e.friendKey,d)}__grouperUpdated(e){if(i.assert.assert(this.d_groupable,"Hotspot should not be subscribed if not groupable"),e.componentJoinedGroup){this.fireEvent("flashGroup",{});return}if(e.updateGroupInfo)this.d_groupName=e.updateGroupInfo.groupName||"",this.d_groupDescription=e.updateGroupInfo.groupDesc||"";else if(e.leftGroup)this.d_groupId=-1,this.d_groupName="",this.d_groupDescription="";else if(e.joinedGroup||e.recap){const n=e.joinedGroup||e.recap;this.d_groupId=n.groupId,this.d_groupName=n.groupName||"",this.d_groupDescription=n.groupDesc||""}this.fireEvent("groupInfoChanged",{})}__handleInputsChanged(e){if(e.inputs){const n=this.d_appContext.inputs[this.d_observerName];e.inputs.forEach(s=>{s===this.d_observerName&&n.value!==this.d_value&&this.askToChangeValue(n.value,{friendKey:d})},this)}}__initializeIfReady(){if(this.d_appContext&&this.d_observerName.length>0&&this.d_groupable&&!this.d_initialized){const e=this.d_appContext.inputs[this.d_observerName],n=this.d_appContext.outputs[this.d_observerName],s=e||n;this.hotspotType||(this.hotspotType=s.dataType),e?(this.d_appContext.off("inputsChanged",this),this.d_appContext.on("inputsChanged",this.__handleInputsChanged.bind(this),this)):this.d_updateSameValueForOutputOnlyHotspots=!s.legacyArgs,i.assert.assert(s,"observerName: "+this.d_observerName+" not in inputs/outputs"),i.assert.assert(s.dataType===this.d_hotspotType,"Cannot set hotspotType to: "+this.d_hotspotType+" when appInterface dataType is: "+s.dataType),this.d_groupId||(this.d_groupId=-1),s.legacyArgs&&this.validateGroup({friendKey:d})}}__setOutputs(){if(!this.d_appContext||this.d_observerName.length===0)return;if(this.d_appContext.outputs[this.d_observerName]&&this.d_groupable){const n=this.d_appContext.outputs;n[this.d_observerName].value=this.d_value,this.d_appContext.updateOutputs(n,void 0)}}}const dt=new a.Logger(l),lt={events:{activeHotspotChanged:{}}};class ht extends N.define(lt){d_activeHotspot;d_exclusive;d_hotspots;d_id;constructor(e){super(),this.d_exclusive=!1,this.d_hotspots={},this.d_id=e.id,this.d_activeHotspot=void 0,e.hotspots&&this.addHotspots(e.hotspots)}get activeHotspot(){if(this.d_exclusive)return this.d_activeHotspot}get hotspots(){return Object.values(this.d_hotspots)}set hotspots(e){this.d_hotspots={},this.addHotspots(e)}get id(){return this.d_id}get exclusive(){return this.d_exclusive}set exclusive(e){this.d_exclusive!==e&&(i.assert.assert(Object.keys(this.d_hotspots).length===0,"Exclusive should only be set before the collection has any hotspots. use setExclusive. In BML, specify _.exclusiveActive on a single child hotspot and do not set exclusive on the collection"),this.d_exclusive=e)}addChild(e,n){n&&n.exclusiveActive?(i.assert.assert(!this.d_activeHotspot,"Cannot add another exclusive active hotspot"),this.addHotspots([e]),this.setExclusive(!0,e)):this.addHotspots([e])}addHotspots(e){for(let n=0;n<e.length;n++){const s=e[n];s instanceof P||i.assert(!1,`${typeof s} is not a Hotspot`),i.assert.assert(s.groupable,"Cannot add a non groupable Hotspot to a collection"),i.assert.assert(this.d_hotspots[String(s.hotspotType)]===void 0,"A hotspot with type: "+s.hotspotType+" already exists in this collection."),this.d_hotspots[String(s.hotspotType)]=s,s.setCollection(this,{friendKey:d}),this.d_exclusive&&(this.d_activeHotspot===void 0?this.__setExclusiveHotspot(s):s.visible=!1),this.__ensureConsistentGrouping()}}setExclusive(e,n){e?this.__setExclusiveHotspot(n):(i.assert.equal(void 0,n),this.d_exclusive=!1,this.d_activeHotspot=void 0)}__ensureConsistentGrouping(){const e=Object.keys(this.d_hotspots);let n,s;e.length&&(n=this.d_hotspots[e[0]].getGroupId({friendKey:d}),s=this.d_hotspots[e[0]].getGroupName({friendKey:d})),e.forEach(o=>{const r=this.d_hotspots[o],h=r.getGroupId({friendKey:d});h!==n&&(r.setGroupId(n,{friendKey:d}),r.setGroupName(s,{friendKey:d}),dt.warn(`Collection cannot belong in both groupId:${n}`,` and groupId:${h} setting to ${n}`))},this)}__setExclusiveHotspot(e){const n=Object.keys(this.d_hotspots);if(n.length===0||!e){i.assert(e===void 0,"The given hotspot must be added before setting it as the exclusive active hotspot"),i.assert(n.length===0,"Hotspots must be added before setting it as the exclusive active hotspot"),this.d_exclusive=!0;return}i.assert.assert(e,"A hotspot must be provided to set this collection to exclusive"),i.assert.assert(this.d_hotspots[String(e.hotspotType)]===e,"The given hotspot must be added before setting it as the exclusive active hotspot"),this.d_exclusive=!0,this.d_activeHotspot!==e&&(this.d_activeHotspot=e,n.forEach(s=>{const o=this.d_hotspots[s];o!==this.d_activeHotspot&&(o.visible=!1)}),this.d_activeHotspot.visible=!0,this.fireEvent("activeHotspotChanged",{}))}}new a.Logger(l);const g={width:-1,height:-1};function I(t,e){return!!(t&&e&&t.width===e.width&&t.height===e.height)}function f(t){return i.isArray(t)?t:t?[t]:[]}const at={public:{firePropertyChange:ut},private:{},events:{propertyChange:{}},moduleId:l},pt=i.class.create(at);function ut(t){this.fireEvent("propertyChange",t)}const D={SCROLL:"scroll",SCROLL_X:"scroll-x",SCROLL_Y:"scroll-y",NONE:"none"};Object.freeze(D);const ct={TOKEN:"TOKEN",COMMAND:"COMMAND"};Object.freeze(ct);const gt={NONE:"none",BOTH:"both",VERTICAL:"vertical",HORIZONTAL:"horizontal"};Object.freeze(gt);const m=.5,_=2,ft={init:mt,private:{d_appName:"",d_title:"",d_description:"",d_viewDescription:"",d_containsRestrictedData:!1,d_contentName:"",d_contentDescription:"",d_titleEditable:!1,d_quoteline:null,d_dataContext:null,d_quotelineVisible:!1,d_content:null,d_mainContentWidget:null,d_overflowPolicy:D.NONE,d_activeWidget:null,d_defaultWidget:null,d_controlRegion:null,d_hasTitleBar:!0,d_titleBarVisible:!0,d_controlRegionVisible:!0,d_controlRegionVisibleSet:!1,d_favoriteVisible:!0,d_favoriteSelected:!1,d_feedbackVisible:!0,d_exportVisible:!0,d_settingsVisible:!0,d_helpVisible:!0,d_popoutVisible:!0,d_keyBindings:[],d_feedbackEnabled:!0,d_exportEnabled:!0,d_settingsEnabled:!1,d_helpEnabled:!0,d_popoutEnabled:!0,d_pendingProperties:{},d_pendingFlush:null,d_exportItems:[],d_settingsItems:[],d_enableGoMenu:!1,d_helpOverride:null,d_helpItems:[],d_insetContent:!0,d_zoomable:!0,d_zoom:1,d_minZoom:m,d_maxZoom:_,d_zoomSetFromApp:!1,d_refreshVisible:!1,d_sizeToContent:!1,d_privateEvents:null,d_customOptions:null,d_customOptionEventSubed:!1,d_autoShrink:!1,d_initialContentSize:void 0,d_contentSize:void 0,d_minContentSize:void 0,d_maxContentSize:void 0,d_preferredContentSize:void 0,d_hotspots:[],d_hotspotsSetDirectly:!1,d_badgingEnabled:!0,d_demoMode:!1,d_resizable:!0,d_dragAndDropText:"",d_maximizable:void 0,d_privilegedOptions:[],d_backVisible:!1,initialContentSize:{get:Ct,set:vt},zoomSetFromApp:{get:Qi},hotspotsSetDirectly:{get:nn},maximizable:{get:gi,set:fi},privateEvents:{get:ln},applyAutoshrinkSize:Ut,derivedPreferredContentSize:Qt,flush:_t,isCollection:rn,isHotspot:on,notifyZoomUpdated:ji,propertyUpdated:bt,setControlRegionVisible:xe,setDemoMode:H,setHotspots:dn,setHotspotsNotDirectly:sn,setQuotelineVisible:ci,setTitleBarVisible:He,updateZoomValue:qi},public:{appName:{get:xt,set:St},title:{get:Vt,set:zt},titleEditable:{get:kt,set:It},description:{get:Nt,set:$t},viewDescription:{get:Ht,set:Tt},containsRestrictedData:{get:wt,set:Ot},contentName:{get:Rt,set:Pt},contentDescription:{get:Dt,set:Mt},content:{get:yt,set:Et},autoShrink:{get:Ft,set:Bt},contentSize:{get:Lt,set:Gt},contentWidth:{get:Zt,set:Kt},contentHeight:{get:jt,set:qt},preferredContentSize:{get:Xt,set:Jt},preferredContentWidth:{get:Yt,set:te},preferredContentHeight:{get:ee,set:ie},minContentSize:{get:ne,set:se},minContentWidth:{get:oe,set:re},minContentHeight:{get:de,set:le},maxContentSize:{get:ce,set:ge},mainContentWidget:{get:Wt,set:At},activeWidget:{get:Oe,set:Re},defaultWidget:{get:Pe,set:De},controlRegion:{get:Me,set:We},hasTitleBar:{get:Ve,set:ze},titleBarVisible:{get:ke,set:Ie},controlRegionVisible:{get:ye,set:Ee},controlRegionVisibleSet:{get:Se},quoteline:{get:mi,set:_i},overflowPolicy:{get:Ce,set:ve},keyBindings:{get:Te,set:Ne},badgingEnabled:{get:$e,set:we},refreshVisible:{get:ai,set:pi},releaseFocus:ui,settingsVisible:{get:Ze,set:Ke},settingsEnabled:{get:si,set:oi},settingsItems:{get:Ei,set:xi},customOptions:{get:Pi,set:Di},privilegedOptions:{get:Mi,set:Wi},exportVisible:{get:Le,set:Ge},exportEnabled:{get:ii,set:ni},exportItems:{get:Si,set:Vi},helpVisible:{get:je,set:qe},helpEnabled:{get:ri,set:di},helpItems:{get:zi,set:ki},feedbackVisible:{get:Fe,set:Be},feedbackEnabled:{get:ti,set:ei},enableGoMenu:{get:Ii,set:Hi},helpOverride:{get:Ti,set:Ni},insetContent:{get:$i,set:wi},sizeToContent:{get:Qe,set:Xe},hotspots:{get:Ai,set:Ui},demoMode:{get:Xi,set:H},resizable:{get:Ji,set:Yi},dragAndDropText:{get:tn,set:en},minZoom:{get:he,set:ae},maxZoom:{get:pe,set:ue},maxContentWidth:{get:fe,set:me},maxContentHeight:{get:_e,set:be},favoriteVisible:{get:Ae,set:Ue},popoutVisible:{get:Je,set:Ye},popoutEnabled:{get:li,set:hi},dataContext:{get:bi,set:Ci},appTitleFavoriteSelected:{get:vi,set:yi},customOptionClickedEventSubscribed:{get:Oi,set:Ri},zoomable:{get:Fi,set:Bi},zoom:{get:Li,set:Gi},backVisible:{get:Zi,set:Ki}},events:{propertyChange:{},resize:{},keydown:{},keypress:{},keyup:{},focus:{},blur:{},unloadContent:{},loadContent:{},back:{},cancel:{},appFeedbackClicked:{},appHelpClicked:{},appSettingsClicked:{},appExportClicked:{},appCustomOptionsClicked:{},appPrivilegedOptionsClicked:{},appSecurityChanged:{},appPopoutClicked:{},releaseFocus:{},customPrint:{},poppedOut:{},controlRegionVisibilityChanged:{},quotelineVisibilityChanged:{},appTitleVisibilityChanged:{},titleChanged:{},appCustomHelpItemClicked:{},numberGo:{},pageUp:{},pageDown:{},beginResize:{},endResize:{},hotspotsChanged:{},resized:{},refresh:{},deepCopyApplication:{},zoomChanged:{},demoModeChanged:{},commandtronNavigateResults:{},commandtronEnter:{},commandtronExit:{},commandtronQueryChanged:{},commandtronConfirmQuery:{},launchComponent:{},launchDLInspector:{}},friendKey:S,moduleId:l};function mt(){this.d_preferredContentSize={width:512,height:512},this.d_initialContentSize=g,this.d_contentSize=g,this.d_minContentSize=g,this.d_maxContentSize=g,this.d_exportItems=[{content:"Send screenshot via MSG",data:"DEFAULT_EXPORT_SS_MSG"},{content:"Upload screenshot to PFM",data:"DEFAULT_EXPORT_SS_PFM"},{content:"Download screenshot to file...",data:"DEFAULT_EXPORT_SS_FILE"},{content:"Copy screenshot to clipboard",data:"DEFAULT_EXPORT_SS_CLIPBOARD"},{content:null,separator:!0},{content:"Print",data:"DEFAULT_EXPORT_PRINT"}],this.d_privateEvents=new pt}function _t(){this.d_pendingFlush&&(this.d_pendingFlush(),this.d_pendingFlush=null);const t=Object.keys(this.d_pendingProperties);this.d_pendingProperties={},this.d_privateEvents.firePropertyChange({properties:t})}function bt(t){this.d_pendingProperties[t]=!0,this.d_pendingFlush||(this.d_pendingFlush=a.timerService.setTimeout(this.flush.bind(this),0))}function Ct(){const t=this.d_initialContentSize;return{width:t.width,height:t.height}}function vt(t){const e={width:t.width|0,height:t.height|0};this.d_initialContentSize=e}function yt(){return this.d_content}function Et(t){this.d_content=t,this.setDemoMode(this.d_demoMode),this.propertyUpdated("content")}function xt(){return this.d_appName}function St(t){this.d_appName=t||"",this.propertyUpdated("appName")}function Vt(){return this.d_title}function zt(t){this.d_title=t+"",this.propertyUpdated("title")}function kt(){return this.d_titleEditable}function It(t){i.isBoolean(t),this.d_titleEditable=t,this.propertyUpdated("titleEditable")}function Ht(){return this.d_viewDescription}function Tt(t){this.d_viewDescription=t||"",this.propertyUpdated("viewDescription")}function Nt(){return this.d_description}function $t(t){this.d_description=t+"",this.propertyUpdated("description")}function wt(){return this.d_containsRestrictedData}function Ot(t){this.d_containsRestrictedData=!!t,this.propertyUpdated("containsRestrictedData")}function Rt(){return this.d_contentName}function Pt(t){this.d_contentName=t+"",this.propertyUpdated("contentName")}function Dt(){return this.d_contentDescription}function Mt(t){this.contentDescription=t+"",this.propertyUpdated("contentDescription")}function Wt(){return this.d_mainContentWidget}function At(t){this.d_mainContentWidget=t,this.propertyUpdated("mainContentWidget")}function Ut(){const t=this.minContentSize;t.width===g.width&&t.height===g.height||(this.contentSize=t)}function Ft(){return this.d_autoShrink}function Bt(t){this.d_autoShrink=t,t&&this.applyAutoshrinkSize()}function Lt(){const t=this.d_contentSize;return{width:t.width,height:t.height}}function Gt(t){const e={width:t.width|0,height:t.height|0};this.d_contentSize=e,this.fireEvent("resize",e),this.propertyUpdated("contentSize")}function Zt(){return this.contentSize.width}function Kt(t){const e=this.contentSize;e.width=t|0,this.contentSize=e}function jt(){return this.contentSize.height}function qt(t){const e=this.contentSize;e.height=t|0,this.contentSize=e}function Qt(){const t=this.contentSize,e=this.initialContentSize;if(I(t,g)){if(!I(e,g))return e}else return t;return this.d_preferredContentSize}function Xt(){return this.d_preferredContentSize}function Jt(t){const e={width:t.width|0,height:t.height|0};this.d_preferredContentSize=e,this.fireEvent("resize",e),this.propertyUpdated("preferredContentSize")}function Yt(){return this.preferredContentSize.width}function te(t){const e=this.preferredContentSize;e.width=t|0,this.preferredContentSize=e}function ee(){return this.preferredContentSize.height}function ie(t){const e=this.preferredContentSize;e.height=t|0,this.preferredContentSize=e}function ne(){const t=this.d_minContentSize;return{width:t.width,height:t.height}}function se(t){this.d_minContentSize={width:t.width|0,height:t.height|0},this.propertyUpdated("minContentSize"),this.autoShrink&&this.applyAutoshrinkSize()}function oe(){return this.d_minContentSize.width}function re(t){const e=this.minContentSize;e.width=t|0,this.minContentSize=e}function de(){return this.d_minContentSize.height}function le(t){const e=this.minContentSize;e.height=t|0,this.minContentSize=e}function he(){return this.d_minZoom}function ae(t){i.assert.isNumber(t,"minZoom must be a number"),i.assert(m<=t&&t<=_,"minZoom must be between "+m+" and "+_),this.d_minZoom=t}function pe(){return this.d_maxZoom}function ue(t){i.assert.isNumber(t,"maxZoom must be a number"),i.assert(m<=t&&t<=_,"minZoom must be between "+m+" and "+_),this.d_maxZoom=t}function ce(){const t=this.d_maxContentSize;return{width:t.width,height:t.height}}function ge(t){this.d_maxContentSize={width:t.width|0,height:t.height|0},this.propertyUpdated("maxContentSize")}function fe(){return this.d_maxContentSize.width}function me(t){const e=this.maxContentSize;e.width=t|0,this.maxContentSize=e}function _e(){return this.d_maxContentSize.height}function be(t){const e=this.maxContentSize;e.height=t|0,this.maxContentSize=e}function Ce(){return this.d_overflowPolicy}function ve(t){this.d_overflowPolicy=t,this.propertyUpdated("overflowPolicy")}function ye(){return this.d_controlRegionVisible}function Ee(t){this.setControlRegionVisible(t)}function xe(t){this.d_controlRegionVisibleSet=!0,t!==this.d_controlRegionVisible&&(t=t||!1,this.d_controlRegionVisible=t,this.propertyUpdated("controlRegionVisible"),this.fireEvent("controlRegionVisibilityChanged"))}function Se(){return this.d_controlRegionVisibleSet}function Ve(){return this.d_hasTitleBar}function ze(t){this.d_hasTitleBar=t||!1,this.propertyUpdated("hasTitleBar")}function ke(){return this.d_titleBarVisible}function Ie(t){this.setTitleBarVisible(t)}function He(t){t!==this.d_titleBarVisible&&(t=t||!1,this.d_titleBarVisible=t,this.propertyUpdated("titleBarVisible"),this.fireEvent("appTitleVisibilityChanged"))}function Te(){return this.d_keyBindings}function Ne(t){this.d_keyBindings=f(t),this.propertyUpdated("keyBindings")}function $e(){return this.d_badgingEnabled}function we(t){t!==this.d_badgingEnabled&&(this.d_badgingEnabled=t,this.propertyUpdated("badgingEnabled"))}function Oe(){return this.d_activeWidget}function Re(t){this.d_activeWidget=t,this.propertyUpdated("activeWidget")}function Pe(){return this.d_defaultWidget}function De(t){this.d_defaultWidget=t,this.propertyUpdated("defaultWidget")}function Me(){return this.d_controlRegion}function We(t){u.WidgetCore.isWidget(t)||u.WidgetCore.deprecate(w,"Setting HostedContent.ControlRegion to non-widget item",2016,8,1,"Please only set to sys-blp-ui.Controlegion"),this.d_controlRegion=t,this.propertyUpdated("controlRegion")}function Ae(){return this.d_favoriteVisible}function Ue(t){this.d_favoriteVisible=t||!1,this.propertyUpdated("favoriteVisible")}function Fe(){return this.d_feedbackVisible}function Be(t){this.d_feedbackVisible=t||!1,this.propertyUpdated("feedbackVisible")}function Le(){return this.d_exportVisible}function Ge(t){this.d_exportVisible=t||!1,this.propertyUpdated("exportVisible")}function Ze(){return this.d_settingsVisible}function Ke(t){this.d_settingsVisible=t||!1,this.propertyUpdated("settingsVisible")}function je(){return this.d_helpVisible}function qe(t){this.d_helpVisible=t||!1,this.propertyUpdated("helpVisible")}function Qe(){return this.d_sizeToContent}function Xe(t){i.assert(i.isBoolean(t)||i.isString(t)),this.d_sizeToContent=t,this.propertyUpdated("sizeToContent")}function Je(){return this.d_popoutVisible}function Ye(t){this.d_popoutVisible=t||!1,this.propertyUpdated("popoutVisible")}function ti(){return this.d_feedbackEnabled}function ei(t){this.d_feedbackEnabled=t||!1,this.propertyUpdated("feedbackEnabled")}function ii(){return this.d_exportEnabled}function ni(t){this.d_exportEnabled=t||!1,this.propertyUpdated("exportEnabled")}function si(){return this.d_settingsEnabled}function oi(t){this.d_settingsEnabled=t||!1,this.propertyUpdated("settingsEnabled")}function ri(){return this.d_helpEnabled}function di(t){this.d_helpEnabled=t||!1,this.propertyUpdated("helpEnabled")}function li(){return this.d_popoutEnabled}function hi(t){this.d_popoutEnabled=t||!1,this.propertyUpdated("popoutEnabled")}function ai(){return this.d_refreshVisible}function pi(t){this.d_refreshVisible=t||!1,this.propertyUpdated("refreshVisible")}function ui(){this.fireEvent("releaseFocus")}function ci(t){t!==this.d_quotelineVisible&&(this.d_quotelineVisible=t||!1,this.propertyUpdated("quotelineVisible"),this.fireEvent("quotelineVisibilityChanged"))}function gi(){return this.d_maximizable}function fi(t){t!==this.d_maximizable&&(this.d_maximizable=t,this.propertyUpdated("maximizable"))}function mi(){return this.d_quoteline}function _i(t){this.d_quoteline!==t&&(this.d_quoteline=t,this.d_privateEvents.firePropertyChange({properties:["quoteline"]}))}function bi(){return this.d_dataContext}function Ci(t){i.assert(t),this.d_dataContext!==t&&(t instanceof v.AutocompleteEntry||u.WidgetCore.deprecate(t,"Setting dataContext to other than sys-ui.AutocompleteEntry or sys-blp-ui.AutocompleteEntry to HostedContent.dataContext",2017,11,1,"Please check the widget type"),this.d_dataContext=t,this.d_privateEvents.firePropertyChange({properties:["dataContext"]}))}function vi(){return this.d_favoriteSelected}function yi(t){this.d_favoriteSelected=t||!1,this.propertyUpdated("appTitleFavoriteSelected")}function Ei(){return this.d_settingsItems}function xi(t){t!==this.d_settingsItems&&(this.d_settingsItems=f(t),this.propertyUpdated("settingsItems"))}function Si(){return this.d_exportItems}function Vi(t){t!==this.d_exportItems&&(this.d_exportItems=f(t),this.propertyUpdated("exportItems"))}function zi(){return this.d_helpItems}function ki(t){t!==this.d_helpItems&&(this.d_helpItems=f(t),this.propertyUpdated("helpItems"))}function Ii(){return this.d_enableGoMenu}function Hi(t){t!==this.d_enableGoMenu&&(this.d_enableGoMenu=t||!1,this.propertyUpdated("enableGoMenu"))}function Ti(){return this.d_helpOverride}function Ni(t){t!==this.d_helpOverride&&(this.d_helpOverride=t,this.propertyUpdated("helpOverride"))}function $i(){return this.d_insetContent}function wi(t){t!==this.d_insetContent&&(this.d_insetContent=t,this.propertyUpdated("insetContent"))}function Oi(){return this.d_customOptionEventSubed}function Ri(t){this.d_customOptionEventSubed=t}function Pi(){return this.d_customOptions}function Di(t){t!==this.d_customOptions&&(this.d_customOptions=f(t),this.propertyUpdated("customOptions"))}function Mi(){return this.d_privilegedOptions}function Wi(t){t!==this.d_privilegedOptions&&(this.d_privilegedOptions=f(t),this.propertyUpdated("privilegedOptions"))}function Ai(){return this.d_hotspots}function Ui(t){this.d_hotspotsSetDirectly=!0,this.setHotspots(t)}function Fi(){return this.d_zoomable}function Bi(t){this.d_zoomable=t,this.propertyUpdated("zoomable")}function Li(){return this.d_zoom}function Gi(t){this.d_zoomSetFromApp=!0,this.updateZoomValue(t)}function Zi(){return this.d_backVisible}function Ki(t){this.d_backVisible=t||!1,this.propertyUpdated("backVisible")}function ji(t){this.d_zoomSetFromApp=!1,this.updateZoomValue(t)}function qi(t){this.d_zoom!==t&&(this.d_zoom=t,this.propertyUpdated("zoom"))}function Qi(){return this.d_zoomSetFromApp}function Xi(){return this.d_demoMode}function H(t){t=t||!1,t!==this.d_demoMode&&(this.d_demoMode=t,this.propertyUpdated("demoMode"))}function Ji(){return this.d_resizable}function Yi(t){typeof t>"u"&&(t=!0),t!==this.d_resizable&&(this.d_resizable=t,this.propertyUpdated("resizable"))}function tn(){return this.d_dragAndDropText}function en(t){t!==this.d_dragAndDropText&&(this.d_dragAndDropText=t,this.propertyUpdated("dragAndDropText"))}function nn(){return this.d_hotspotsSetDirectly}function sn(t){this.setHotspots(t),this.fireEvent("hotspotsChanged")}function on(t){return!!(i.class.isInstanceOf(p.Hotspot,t)||t instanceof P)}function rn(t){return!!(i.class.isInstanceOf(p.Collection,t)||t instanceof ht)}function dn(t){if(!t){this.d_hotspots=[];return}let e=[];this.isHotspot(t)||this.isCollection(t)?e=[t]:(i.assert.isArray(t,"hotspots must be an array"),e=t);const n={};this.d_hotspots=[];function s(o,r){i.assert.assert(!n[r.observerName],"hotspot with observerName: "+r.observerName+" already added"),o.push(r)}e.forEach(o=>{this.isHotspot(o)?s(this.d_hotspots,o):o.hotspots.forEach(r=>{s(this.d_hotspots,r)})}),this.propertyUpdated("hotspots")}function ln(){return this.d_privateEvents}const hn=i.class.create(ft),an=hn;new a.Logger(l);const pn={init:un,extends:{public:{super:it}},virtual:{override:{getImpl:cn}},private:{privilegedOptions:{get:Co,set:vo},d_impl:null,d_refreshConnectionCount:0,d_permissionTokens:[]},public:{appName:{get:mn,set:_n},autoShrink:{get:On,set:Rn},viewDescription:{get:En,set:xn},containsRestrictedData:{get:zn,set:kn},contentName:{get:In,set:Hn},contentDescription:{get:Tn,set:Nn},content:{get:gn,set:fn},contentSize:{get:Pn,set:Dn},contentWidth:{get:Mn,set:Wn},contentHeight:{get:An,set:Un},preferredContentSize:{get:Fn,set:Bn},preferredContentWidth:{get:Ln,set:Gn},preferredContentHeight:{get:Zn,set:Kn},minContentSize:{get:jn,set:qn},minContentWidth:{get:Qn,set:Xn},minContentHeight:{get:Jn,set:Yn},minZoom:{get:ts,set:es},maxZoom:{get:is,set:ns},maxContentSize:{get:ss,set:os},mainContentWidget:{get:$n,set:wn},activeWidget:{get:Es,set:xs},defaultWidget:{get:Ss,set:Vs},controlRegion:{get:zs,set:ks},hasTitleBar:{get:gs,set:fs},titleBarVisible:{get:ms,set:_s},controlRegionVisible:{get:us,set:cs},quoteline:{get:Js,set:Ys},dataContext:{get:to,set:eo},appTitleFavoriteSelected:{get:io,set:no},overflowPolicy:{get:as,set:ps},keyBindings:{get:bs,set:Cs},badgingEnabled:{get:vs,set:ys},releaseFocus:wo,settingsVisible:{get:Os,set:Rs},settingsEnabled:{get:Zs,set:Ks},settingsItems:{get:so,set:oo},customOptions:{get:_o,set:bo},exportVisible:{get:$s,set:ws},exportEnabled:{get:Ls,set:Gs},exportItems:{get:ro,set:lo},helpVisible:{get:Ps,set:Ds},helpEnabled:{get:js,set:qs},helpItems:{get:ho,set:ao},feedbackVisible:{get:Ts,set:Ns},feedbackEnabled:{get:Fs,set:Bs},enableGoMenu:{get:po,set:uo},helpOverride:{get:co,set:go},insetContent:{get:fo,set:mo},sizeToContent:{get:Ms,set:Ws},hotspots:{get:yo,set:Eo},zoomable:{get:xo,set:So},zoom:{get:Vo,set:zo},demoMode:{get:ko,set:Io},resizable:{get:Ho,set:To},dragAndDropText:{get:No,set:$o},title:{get:bn,set:Cn},titleEditable:{get:vn,set:yn},description:{get:Sn,set:Vn},maxContentWidth:{get:rs,set:ds},maxContentHeight:{get:ls,set:hs},favoriteVisible:{get:Is,set:Hs},popoutVisible:{get:As,set:Us},popoutEnabled:{get:Qs,set:Xs},backVisible:{get:Oo,set:Ro},addPermissionToken:Po,removePermissionToken:Do},events:{appCustomOptionsClicked:{add:Ao,remove:Uo},appCustomHelpItemClicked:{},appPrivilegedOptionsClicked:{},appExportClicked:{},appFeedbackClicked:{},appHelpClicked:{},appPopoutClicked:{},appSecurityChanged:{},appSettingsClicked:{},appTitleVisibilityChanged:{},beginResize:{},blur:{},cancel:{},customPrint:{},deepCopyApplication:{},endResize:{},hotspotsChanged:{},focus:{},keydown:{},keypress:{},keyup:{},loadContent:{},numberGo:{},pageUp:{},pageDown:{},poppedOut:{},propertyChange:{},refresh:{add:Mo,remove:Wo},releaseFocus:{},resized:{},zoomChanged:{},commandtronNavigateResults:{},commandtronEnter:{},commandtronExit:{},commandtronQueryChanged:{},commandtronConfirmQuery:{},launchComponent:{},launchDLInspector:{key:R}},friendKey:S,moduleId:l};function un(){this.initSuper();const t=this.d_impl=new an;t.on("propertyChange",this.fireEvent.bind(this,"propertyChange"),this),t.on("resize",this.fireEvent.bind(this,"resize"),this),t.on("resized",this.fireEvent.bind(this,"resized"),this),t.on("beginResize",this.fireEvent.bind(this,"beginResize"),this),t.on("endResize",this.fireEvent.bind(this,"endResize"),this),t.on("keydown",this.fireEvent.bind(this,"keydown"),this),t.on("keypress",this.fireEvent.bind(this,"keypress"),this),t.on("keyup",this.fireEvent.bind(this,"keyup"),this),t.on("focus",this.fireEvent.bind(this,"focus"),this),t.on("blur",this.fireEvent.bind(this,"blur"),this),t.on("unloadContent",this.fireEvent.bind(this,"unloadContent"),this),t.on("loadContent",this.fireEvent.bind(this,"loadContent"),this),t.on("back",this.fireEvent.bind(this,"back"),this),t.on("cancel",this.fireEvent.bind(this,"cancel"),this),t.on("appFeedbackClicked",this.fireEvent.bind(this,"appFeedbackClicked"),this),t.on("appHelpClicked",this.fireEvent.bind(this,"appHelpClicked"),this),t.on("appSettingsClicked",this.fireEvent.bind(this,"appSettingsClicked"),this),t.on("appExportClicked",this.fireEvent.bind(this,"appExportClicked"),this),t.on("appCustomOptionsClicked",this.fireEvent.bind(this,"appCustomOptionsClicked"),this),t.on("appPrivilegedOptionsClicked",this.fireEvent.bind(this,"appPrivilegedOptionsClicked"),this),t.on("appSecurityChanged",this.fireEvent.bind(this,"appSecurityChanged"),this),t.on("appPopoutClicked",this.fireEvent.bind(this,"appPopoutClicked"),this),t.on("releaseFocus",this.fireEvent.bind(this,"releaseFocus"),this),t.on("customPrint",this.fireEvent.bind(this,"customPrint"),this),t.on("poppedOut",this.fireEvent.bind(this,"poppedOut"),this),t.on("controlRegionVisibilityChanged",this.fireEvent.bind(this,"controlRegionVisibilityChanged"),this),t.on("quotelineVisibilityChanged",this.fireEvent.bind(this,"quotelineVisibilityChanged"),this),t.on("appTitleVisibilityChanged",this.fireEvent.bind(this,"appTitleVisibilityChanged"),this),t.on("titleChanged",this.fireEvent.bind(this,"titleChanged"),this),t.on("appCustomHelpItemClicked",this.fireEvent.bind(this,"appCustomHelpItemClicked"),this),t.on("hotspotsChanged",this.fireEvent.bind(this,"hotspotsChanged"),this),t.on("numberGo",this.fireEvent.bind(this,"numberGo"),this),t.on("pageUp",this.fireEvent.bind(this,"pageUp"),this),t.on("pageDown",this.fireEvent.bind(this,"pageDown"),this),t.on("refresh",this.fireEvent.bind(this,"refresh"),this),t.on("zoomChanged",this.fireEvent.bind(this,"zoomChanged"),this),t.on("deepCopyApplication",this.fireEvent.bind(this,"deepCopyApplication"),this),t.on("demoModeChanged",this.fireEvent.bind(this,"demoModeChanged"),this),t.on("commandtronNavigateResults",this.fireEvent.bind(this,"commandtronNavigateResults"),this),t.on("commandtronEnter",this.fireEvent.bind(this,"commandtronEnter"),this),t.on("commandtronExit",this.fireEvent.bind(this,"commandtronExit"),this),t.on("commandtronQueryChanged",this.fireEvent.bind(this,"commandtronQueryChanged"),this),t.on("commandtronConfirmQuery",this.fireEvent.bind(this,"commandtronConfirmQuery"),this),t.on("launchComponent",this.fireEvent.bind(this,"launchComponent"),this),t.on("launchDLInspector",this.fireEvent.bind(this,"launchDLInspector",void 0,R),this)}function cn(){return this.d_impl}function gn(){return this.d_impl.content}function fn(t){this.d_impl.content=t}function mn(){return this.d_impl.appName}function _n(t){this.d_impl.appName=t}function bn(){return this.d_impl.title}function Cn(t){this.d_impl.title=t}function vn(){return this.d_impl.titleEditable}function yn(t){this.d_impl.titleEditable=t}function En(){return this.d_impl.viewDescription}function xn(t){this.d_impl.viewDescription=t}function Sn(){return this.d_impl.description}function Vn(t){this.d_impl.description=t}function zn(){return this.d_impl.containsRestrictedData}function kn(t){this.d_impl.containsRestrictedData=t}function In(){return this.d_impl.contentName}function Hn(t){this.d_impl.contentName=t}function Tn(){return this.d_impl.contentDescription}function Nn(t){this.d_impl.contentDescription=t}function $n(){return this.d_impl.mainContentWidget}function wn(t){this.d_impl.mainContentWidget=t}function On(){return this.d_impl.autoShrink}function Rn(t){this.d_impl.autoShrink=t}function Pn(){return this.d_impl.contentSize}function Dn(t){this.d_impl.contentSize=t}function Mn(){return this.d_impl.contentWidth}function Wn(t){this.d_impl.contentWidth=t}function An(){return this.d_impl.contentHeight}function Un(t){this.d_impl.contentHeight=t}function Fn(){return this.d_impl.preferredContentSize}function Bn(t){this.d_impl.preferredContentSize=t}function Ln(){return this.d_impl.preferredContentWidth}function Gn(t){this.d_impl.preferredContentWidth=t}function Zn(){return this.d_impl.preferredContentHeight}function Kn(t){this.d_impl.preferredContentHeight=t}function jn(){return this.d_impl.minContentSize}function qn(t){this.d_impl.minContentSize=t}function Qn(){return this.d_impl.minContentWidth}function Xn(t){this.d_impl.minContentWidth=t}function Jn(){return this.d_impl.minContentHeight}function Yn(t){this.d_impl.minContentHeight=t}function ts(){return this.d_impl.minZoom}function es(t){const e=this.d_permissionTokens.indexOf(O)!==-1;i.assert(e,"Must specify the 'hosted-content-minmax-zoom-permssion-token' to use this feature"),this.d_impl.minZoom=t}function is(){return this.d_impl.maxZoom}function ns(t){const e=this.d_permissionTokens.indexOf(O)!==-1;i.assert(e,"Must specify the 'hosted-content-minmax-zoom-permssion-token' to use this feature"),this.d_impl.maxZoom=t}function ss(){return this.d_impl.maxContentSize}function os(t){this.d_impl.maxContentSize=t}function rs(){return this.d_impl.maxContentWidth}function ds(t){this.d_impl.maxContentWidth=t}function ls(){return this.d_impl.maxContentHeight}function hs(t){this.d_impl.maxContentHeight=t}function as(){return this.d_impl.overflowPolicy}function ps(t){this.d_impl.overflowPolicy=t}function us(){return this.d_impl.controlRegionVisible}function cs(t){this.d_impl.controlRegionVisible=t}function gs(){return this.d_impl.hasTitleBar}function fs(t){this.d_impl.hasTitleBar=t}function ms(){return this.d_impl.titleBarVisible}function _s(t){this.d_impl.titleBarVisible=t}function bs(){return this.d_impl.keyBindings}function Cs(t){this.d_impl.keyBindings=t}function vs(){return this.d_impl.badgingEnabled}function ys(t){this.d_impl.badgingEnabled=t}function Es(){return this.d_impl.activeWidget}function xs(t){this.d_impl.activeWidget=t}function Ss(){return this.d_impl.defaultWidget}function Vs(t){this.d_impl.defaultWidget=t}function zs(){return this.d_impl.controlRegion}function ks(t){this.d_impl.controlRegion=t}function Is(){return this.d_impl.favoriteVisible}function Hs(t){this.d_impl.favoriteVisible=t}function Ts(){return this.d_impl.feedbackVisible}function Ns(t){this.d_impl.feedbackVisible=t}function $s(){return this.d_impl.exportVisible}function ws(t){this.d_impl.exportVisible=t}function Os(){return this.d_impl.settingsVisible}function Rs(t){this.d_impl.settingsVisible=t}function Ps(){return this.d_impl.helpVisible}function Ds(t){this.d_impl.helpVisible=t}function Ms(){return this.d_impl.sizeToContent}function Ws(t){this.d_impl.sizeToContent=t}function As(){return this.d_impl.popoutVisible}function Us(t){this.d_impl.popoutVisible=t}function Fs(){return this.d_impl.feedbackEnabled}function Bs(t){this.d_impl.feedbackEnabled=t}function Ls(){return this.d_impl.exportEnabled}function Gs(t){this.d_impl.exportEnabled=t}function Zs(){return this.d_impl.settingsEnabled}function Ks(t){this.d_impl.settingsEnabled=t}function js(){return this.d_impl.helpEnabled}function qs(t){this.d_impl.helpEnabled=t}function Qs(){return this.d_impl.popoutEnabled}function Xs(t){this.d_impl.popoutEnabled=t}function Js(){return this.d_impl.quoteline}function Ys(t){this.d_impl.quoteline=t}function to(){return this.d_impl.dataContext}function eo(t){this.d_impl.dataContext=t}function io(){return this.d_impl.appTitleFavoriteSelected}function no(t){this.d_impl.appTitleFavoriteSelected=t}function so(){return this.d_impl.settingsItems}function oo(t){this.d_impl.settingsItems=t}function ro(){return this.d_impl.exportItems}function lo(t){this.d_impl.exportItems=t}function ho(){return this.d_impl.helpItems}function ao(t){this.d_impl.helpItems=t}function po(){return this.d_impl.enableGoMenu}function uo(t){this.d_impl.enableGoMenu=t}function co(){return this.d_impl.helpOverride}function go(t){this.d_impl.helpOverride=t}function fo(){return this.d_impl.insetContent}function mo(t){this.d_impl.insetContent=t}function _o(){return this.d_impl.customOptions}function bo(t){this.d_impl.customOptions=t}function Co(){return this.d_impl.privilegedOptions}function vo(t){this.d_impl.privilegedOptions=t}function yo(){return this.d_impl.hotspots}function Eo(t){this.d_impl.hotspots=t}function xo(){return this.d_impl.zoomable}function So(t){this.d_impl.zoomable=t}function Vo(){return this.d_impl.zoom}function zo(t){this.d_impl.zoom=t}function ko(){return this.d_impl.demoMode}function Io(t){this.d_impl.demoMode=t}function Ho(){return this.d_impl.resizable}function To(t){const e=this.d_permissionTokens.indexOf(nt)!==-1;i.assert(e,"Must specify the 'hosted-content-resizable-permssion-token' to use this feature"),this.d_impl.resizable=t}function No(){return this.d_impl.dragAndDropText}function $o(t){this.d_impl.dragAndDropText=t}function wo(){this.d_impl.releaseFocus()}function Oo(){return this.d_impl.backVisible}function Ro(t){this.d_impl.backVisible=t}function Po(t){this.d_permissionTokens.indexOf(t)===-1&&this.d_permissionTokens.push(t)}function Do(t){const e=this.d_permissionTokens.indexOf(t);e!==-1&&this.d_permissionTokens.splice(e,1)}function Mo(){this.d_refreshConnectionCount++,this.d_refreshConnectionCount===1&&(this.d_impl.refreshVisible=!0)}function Wo(){this.d_refreshConnectionCount--,this.d_refreshConnectionCount===0&&(this.d_impl.refreshVisible=!1)}function Ao(){this.d_impl&&(this.d_impl.customOptionClickedEventSubscribed=!0)}function Uo(){this.d_impl&&(this.d_impl.customOptionClickedEventSubscribed=!1)}const Fo=i.class.create(pn),Bo=Fo,T="ui/styles/css/",Lo={getUrlForResource(t){return t.indexOf(T)!==-1?t.substring(T.length):(t.endsWith(".css")&&(t=`css/${t}`),`/bbkitAssets/${t}`)}};new a.Logger(l);const{EventManager:y,WidgetColorUtil:Go,WidgetLinkUtil:Zo}=u;var Ko=u.defineBaseWidget({init:function(){y.addListener(b(this),"click",function(t){this.$fireEvent("closeClicked"),t.stopPropagation()}.bind(this)),y.addListener(this.elem,"click",t=>{Zo.launchLink(this.self,this.d_link,this.fireLinkClickedEvent.bind(this),{ctrl:t.ctrlKey,shift:t.shiftKey})}),y.addListener(this.elem,"precontextmenu",t=>{t.detail.link=this.d_link,t.detail.linkClickedHandler=this.fireLinkClickedEvent.bind(this)}),this.d_iconElem=jo(this)},public:{set closeable(t){t?b(this).classList.remove("hidden"):b(this).classList.add("hidden")},get closeable(){return!b(this).classList.contains("hidden")},set content(t){var e=u.WidgetCore.getDomElement,n=E(this);this.d_content=t,typeof t=="string"?n.innerText=t:typeof t=="object"&&(n.hasChildNodes()?n.replaceChild(e(t),n.firstChild):n.appendChild(e(t)))},get content(){return this.d_content},set downArrow(t){t?x(this).classList.remove("hidden"):x(this).classList.add("hidden")},get downArrow(){return!x(this).classList.contains("hidden")},set dropdownContent(t){this.d_dropdownContent&&this.d_dropdownContent.removeToggle(this.self),this.d_dropdownContent=t,this.d_dropdownContent&&(this.d_dropdownContent.anchor=this.self,this.d_dropdownContent.configureToggle(this.self))},get dropdownContent(){return this.d_dropdownContent},set icon(t){this.d_icon!==t&&(this.d_imgSourceHelper||(this.d_imgSourceHelper=new A(this.elem,this.$effectiveEnabled,{setEffectiveImgSource:e=>{this.d_iconElem.src=e},setEffectiveImgWidth:e=>{e===null?this.d_iconElem.style.width="":this.d_iconElem.style.width=e+"px"}})),this.d_imgSourceHelper.source=t,this.d_icon=t,t?this.d_iconElem.classList.remove("hidden"):this.d_iconElem.classList.add("hidden"))},get icon(){return this.d_icon},set color(t){this._color!==t&&(t&&Go.setForeground(E(this),t),this._color=t)},get color(){return this._color},get selected(){return this.elem.firstElementChild.classList.contains("selected")},set selected(t){t?this.elem.firstElementChild.classList.add("selected"):this.elem.firstElementChild.classList.remove("selected")},set link(t){i.assert.isString(t),this.d_link!==t&&(this.d_link=t)},get link(){return this.d_link},get userData(){return this.d_userData},set userData(t){this.d_userData=t},get widgetType(){return"Pill"},focus:function(){u.FocusUtil.focusElement(this.elem)},blur:function(){u.FocusUtil.blurElement(this.elem)}},protected:{d_dropdownContent:null,d_icon:null,d_iconElem:null,d_imgSourceHelper:null,d_link:"",initialHTML:"<div class='widget pill' tabIndex='-1'><div class='pill-inner'><div class='pill-dropdown hidden'></div><div class='pill-content'><img class='pill-icon hidden' /><div class='pill-text' data-use-content-as-overflow-tooltip='true'></div><div class='pill-downarrow hidden'></div><div class='pill-closeicon hidden'></div></div></div></div>",events:{closeClicked:{},linkClicked:{},onWidgetRemovedFromDoc:function(){this.d_dropdownContent&&this.d_dropdownContent.hide()}},getClickableSpecs:function(){if(!this.d_content||typeof this.d_content!="string")return[];var t=this.$getPartialClickableSpecs();return t.widgetText=this.content,t.clickTargetElem=this.elem,t.textNode=E(this).firstChild,t.directlyClickable=!0,t.hasChildWindow=u.WidgetUtil.findClickableContainer(this.elem.parentElement).hasChildWindow,[t]},onWidgetAttachedToDoc:function(){this.d_imgSourceHelper&&this.d_imgSourceHelper.onWidgetAttachedToDoc()},onWidgetRemovedFromDoc:function(){this.d_imgSourceHelper&&this.d_imgSourceHelper.onWidgetRemovedFromDoc()},onWindowStylesChanged:function(){this.d_imgSourceHelper&&this.d_imgSourceHelper.onWindowStylesChanged()},onWidgetThemeChanged:function(){this.d_imgSourceHelper&&this.d_imgSourceHelper.onWidgetThemeChanged()},$onEffectiveEnabledChanged:function(t){t?this.elem.firstElementChild.classList.remove("disabled"):this.elem.firstElementChild.classList.add("disabled"),this.d_imgSourceHelper&&this.d_imgSourceHelper.onEffectiveEnabledChanged(t)},fireLinkClickedEvent:function(t){return this.$fireEvent("linkClicked",t)}},statics:{WidgetStylePath:Lo.getUrlForResource("ui/styles/css/pill/pill")}});function jo(t){return t.elem.firstElementChild.children[1].children[0]}function E(t){return t.elem.firstElementChild.children[1].children[1]}function x(t){return t.elem.firstElementChild.children[1].children[2]}function b(t){return t.elem.firstElementChild.children[1].children[3]}const{registerConstructor:C}=U.Renderer,tr={ControlRegion:C(w),ControlRegionTab:C($),HostedContent:C(Bo),Pill:C(Ko)};export{tr as default};
