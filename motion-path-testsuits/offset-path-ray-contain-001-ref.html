<!DOCTYPE html>
<html>
  <head>
    <title>CSS Motion Path: offset-path with ray() which has the contain value</title>

    <link rel="author" title="Jihye Hong" href="mailto:jh.hong@lge.com">
    <style>
      body {
        margin: 100px;
      }
      #box {
        width: 400px;
        height: 400px;
        border: 1px solid black;
        position: absolute;
        top: 150px;
      }
      #path {
        position: absolute;
        top: 150px;
      }
      #anchor {
        position: relative;
        top: 0px;
        left: 0px;
      }

      #item {
        position: relative;
        top: -25px;
        left: -25px;
        width: 450px;
        height: 450px;
        background-color: green;
        opacity: 0.5;
        transform-origin: 0px 0px;
        transform: translate(-25px, 25px);
        transition: transform 0.5s linear;
      }

      #code {
        position: absolute;
        left: 800px;
        top: 100px;
        width: 400px;
        height: 600px;
        border: 1px solid black;
      }

      form {
        width: 50%;
        position: absolute;
        top: 50px;
      }

    </style>
  </head>

  <body>
    <form>
      <div>
        <input type="checkbox" value="withcontain" checked>
        <label for="coding">Specify <code>contain</code> in ray()</label>
      </div>
      <div>
        <input type="checkbox" value="showraypath" checked>
        <label for="coding">Show the <code>ray()</code> path</label>
      </div>
      <div>
        <input type="checkbox" value="showanchor" checked>
        <label for="coding">Show the anchor of the element</label>
      </div>
    </form>

    <div id="box">
      <div id="item">
        <svg id="anchor" height="450" width="450" visibility="visible">
          <circle cx="225" cy="225" r="2" stroke="none" fill="blue" />
        </svg>
      </div>
    </div>

    <div id="code">
      <pre>
      #box {
        width: 400px;
        height: 400px;
        border: 1px solid black;
        position: absolute;
        top: 150px;
      }

      #item {
        offset-position: center;
        offset-anchor: center;
        offset-path: ray(45deg closest-side contain);
        offset-distance: 50%; /* 100 px */
        width: 450px;
        height: 450px;
        background-color: green;
        opacity: 0.5;
      }
      </pre>
    </div>

    <svg id="path" height="400" width="400" visibility="visible">
      <line x1="200" y1="200" x2="341" y2="59" style="stroke:rgb(255,0,0);stroke-width:2" />
    </svg>

  </body>
  <script type="text/javascript">
    var optionContain = document.querySelector('input[value="withcontain"]');
    var optionRayPath = document.querySelector('input[value="showraypath"]');
    var optionAnchor = document.querySelector('input[value="showanchor"]');

    var item = document.getElementById('item');
    var rayPath = document.getElementById('path');
    var anchorOfElement = document.getElementById('anchor');

    optionContain.onchange = function() {
    if(this.checked) {
        // Checkbox is checked.
        item.style.transform = "translate(-25px, 25px)";
        item.style.transition = "transform 0.5s";
      } else {
        // Checkbox is not checked.
        item.style.transform = "translate(71px, -71px)";
        item.style.transition = "transform 0.5s";
      }
    }

    optionRayPath.onchange = function() {
    if(this.checked) {
        // Checkbox is checked.
        rayPath.style.visibility = "visible";
      } else {
        // Checkbox is not checked.
        rayPath.style.visibility = "hidden";
      }
    }

    optionAnchor.onchange = function() {
    if(this.checked) {
        // Checkbox is checked.
        anchorOfElement.style.visibility = "visible";
      } else {
        // Checkbox is not checked.
        anchorOfElement.style.visibility = "hidden";
      }
    }

  </script>
</html>
